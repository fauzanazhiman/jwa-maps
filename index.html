<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2c3e50">
    <title>JWA Map - Jurassic World Alive Zone Tracker</title>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WRBKZKBL');</script>
    <!-- End Google Tag Manager -->

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Google AdSense -->
    <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=YOUR_ADSENSE_CLIENT_ID"></script>-->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WRBKZKBL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- Ad Modal (disabled for initial release) -->
    <div id="adModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Support JWA Map</h2>
            <p>Please watch a short ad to support the development. This will give you 1 hour of full access!</p>
            <div id="adContainer">
                <!-- Ad will be loaded here -->
                <div class="ad-placeholder">
                    <p>Ad would appear here</p>
                    <p>Ad duration: <span id="adTimer">10</span> seconds</p>
                </div>
            </div>
            <button id="skipAdBtn" disabled>Skip Ad (Available in <span id="skipTimer">10</span>s)</button>
            <div class="emergency-bypass" style="margin-top: 15px; text-align: center;">
                <small>Having issues? Press <kbd>Ctrl+Enter</kbd> or <button id="emergencyBypassBtn" class="btn-link">click here</button> to bypass</small>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app">
        <!-- Header -->
        <header class="header">
            <h1>JWA Map</h1>
            <div class="header-controls">
                <button id="myLocationBtn" class="btn location-btn">üìç My Location</button>
                <button id="togglePanelBtn" class="btn panel-btn">ü¶ï Dino Finder</button>
                <button id="aboutBtn" class="btn about-btn">‚ÑπÔ∏è About</button>
                <div class="session-info hidden">
                    Session: <span id="sessionTimer">60:00</span> remaining
                </div>
            </div>
        </header>

        <!-- Map Container -->
        <div id="mapContainer">
            <div id="map"></div>
            
            <!-- Map Controls -->
            <div class="map-controls">
                <div class="zoom-info">
                    Zoom: <span id="zoomLevel">10</span>
                </div>
                <div class="grid-controls">
                    <label>
                        <input type="checkbox" id="showGridToggle" checked> Show Grid
                    </label>
                </div>
            </div>
        </div>

        <!-- Dino Browser Panel -->
        <div id="dinoPanel" class="side-panel">
            <div class="panel-header">
                <h3>ü¶ï Dinosaur Finder</h3>
                <button id="closePanelBtn" class="btn-close">√ó</button>
            </div>
            
            <div class="search-controls">
                <input type="text" id="dinoSearch" placeholder="Search dinosaurs...">
                
                <div class="filter-section">
                    <h4>Filter by Type:</h4>
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-type="all">All</button>
                        <button class="filter-btn" data-type="common">Common</button>
                        <button class="filter-btn" data-type="rare">Rare</button>
                        <button class="filter-btn" data-type="epic">Epic</button>
                        <button class="filter-btn" data-type="omega">Omega</button>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h4>Filter by Timing:</h4>
                    <div class="filter-buttons">
                        <button class="time-btn active" data-time="all">All</button>
                        <button class="time-btn" data-time="dawn">Dawn</button>
                        <button class="time-btn" data-time="day">Day</button>
                        <button class="time-btn" data-time="dusk">Dusk</button>
                        <button class="time-btn" data-time="night">Night</button>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h4>Filter by Zone:</h4>
                    <div class="filter-buttons">
                        <button class="zone-btn active" data-zone="all">All</button>
                        <button class="zone-btn" data-zone="1">Zone 1</button>
                        <button class="zone-btn" data-zone="2">Zone 2</button>
                        <button class="zone-btn" data-zone="3">Zone 3</button>
                        <button class="zone-btn" data-zone="4">Zone 4</button>
                    </div>
                </div>
            </div>
            
            <div id="dinoResults" class="dino-results">
                <!-- Results will be populated here -->
            </div>
        </div>
    </div>

    <!-- Loading Screen (hidden for now) -->
    <div id="loadingScreen" class="loading-screen" style="display: none;">
        <div class="loading-content">
            <h2>Loading JWA Map...</h2>
            <div class="loading-spinner"></div>
        </div>
        </div>

        <!-- About Modal -->
        <div id="aboutModal" class="modal" style="display: none;">
            <div class="modal-content about-modal">
                <div class="modal-header">
                    <h2>ü¶ï About JWA Map</h2>
                    <button id="closeAboutModal" class="btn-close">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="about-content">
                        <div class="author-info">
                            <div class="author-avatar">
                                <div class="avatar-placeholder">üë®‚Äçüíª</div>
                            </div>
                            <div class="author-details">
                                <h3>Fauzan Azhiman</h3>
                                <p class="author-title">Web Solution Architect & Developer</p>
                                <a href="https://fauzan-azhiman.com" target="_blank" class="author-link">
                                    üåê fauzan-azhiman.com
                                </a>
                            </div>
                        </div>
                        <div class="project-info">
                            <p>
                                <strong>JWA Map</strong> is an interactive dinosaur location finder for 
                                Jurassic World Alive, helping players locate their favorite creatures 
                                across different zones and time periods.
                            </p>
                            <div class="features">
                                <h4>Features:</h4>
                                <ul>
                                    <li>üó∫Ô∏è Interactive zone-based map</li>
                                    <li>ü¶ï Comprehensive dinosaur database</li>
                                    <li>üîç Smart filtering by type and timing</li>
                                    <li>üì± Mobile-optimized interface</li>
                                    <li>üìç Location-based zone suggestions</li>
                                </ul>
                            </div>
                            <div class="version-info">
                                <p><strong>Last Updated:</strong> September 2025</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>    <!-- Custom JS -->
    <script src="js/config.js"></script>
    <script src="js/gridSystem.js"></script>
    <script src="js/zoneManager.js"></script>
    <script src="js/dinoDatabase.js"></script>
    <script src="js/adManager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>